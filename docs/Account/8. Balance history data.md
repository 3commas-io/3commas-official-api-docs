import CollapsibleApiParam from '@site/src/components/CollapsibleApiParam';
import CollapsibleNestedParams from '@site/src/components/CollapsibleNestedParams';
import ApiParam from '@site/src/components/ApiParam';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<div className="main-container-endpoint">
    <div className="container-endpoint">
            <div className="container-method-get">
                <span className="endpoint-method">GET</span>
            </div>
              <div className="container-url">
                <span className="endpoint-url">/ver1/accounts/:account_id/balance_chart_data</span>
           </div>
    </div>
    <div className="container-permission">
        <span className="permission-description"><strong>Permission: </strong>ACCOUNTS_READ</span>
        <span className="permission-description"><strong>Security: </strong>SIGNED</span>
    </div>
</div>

<p className="p-method-discription">
  Returns the balance history for a specific account using its ID
</p>

<h2> Path Parameter </h2>
<ApiParam name='account_id' type='integer' id="account_id" required>
    Unique 3Commas ID of this exchange account entity
</ApiParam>

<h2> Request Parameters </h2>
<ApiParam name='date_from' type='string' id="date_from" required>
    Specifying the start date in ISO 8601 format for the required records
</ApiParam>

<ApiParam name='date_to' type='integer' id="date_to" required>
    Specifies the end date for the required records
</ApiParam>

<h2> Parameters response </h2>
<CollapsibleApiParam name='date_to' type='string' id="date_to">
    Timestamp (UNIX time) in seconds representing a specific date
</CollapsibleApiParam>

<CollapsibleApiParam name='usd' type='string' id="usd">
   The value in USD for a specific date
</CollapsibleApiParam>
      
<CollapsibleApiParam name='btc' type='string' id="btc">
   The value in BTC for a specific date
</CollapsibleApiParam>

<CollapsibleApiParam name='btc_deposit_amount' type='string' id="btc_deposit_amount">
   The deposited amount in BTC on a specific date
</CollapsibleApiParam>

<CollapsibleApiParam name='usd_deposit_amount' type='string' id="usd_deposit_amount">
   The deposited amount in USD on a specific date
</CollapsibleApiParam>   

<h2> Example Request </h2>

<div style={{ margin: '10px', padding: '10px' }}>
    ```json
    GET /ver1/accounts/12345678/balance_chart_data?date_from=2024-09-18T18:58:55.469Z
    ```
</div>


<h2> Example Response and errors </h2>

<div style={{ margin: '10px', padding: '10px' }}>
<Tabs>
  <TabItem value="200" label="200 OK" attributes={{className: "green"}}>

```json
[
    {
        "date": 1726617600,
        "usd": 28.59,
        "btc": 0.000475,
        "btc_deposit_amount": 0.0,
        "usd_deposit_amount": 0.0
    },
    ...
    {
        "date": 1727873800,
        "usd": 29.31,
        "btc": 0.000481,
        "btc_deposit_amount": 0.0,
        "usd_deposit_amount": 0.0
    }
]
```
</TabItem>

<TabItem value="400" label="400 Bad Request" attributes={{className: "green"}}>
    ```json
    {
        "error": "record_invalid",
        "error_description": "Invalid parameters",
        "error_attributes": {
            "date_from": [
                "is invalid"
            ]
     }
    }
    ```
</TabItem>
</Tabs>
</div>