import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CollapsibleApiParam from '@site/src/components/CollapsibleApiParam';
import CollapsibleNestedParams from '@site/src/components/CollapsibleNestedParams';
import ApiParam from '@site/src/components/ApiParam';

<div className="main-container-endpoint">
    <div className="container-endpoint">
            <div className="container-method-post">
                <span className="endpoint-method">POST</span>
            </div>
              <div className="container-url">
                <span className="endpoint-url">/ver1/accounts/update</span>
           </div>
    </div>
    <div className="container-permission">
        <span className="permission-description"><strong>Permission: </strong>ACCOUNTS_WRITE</span>
        <span className="permission-description"><strong>Security: </strong>SIGNED</span>
    </div>
</div>

<p className="p-method-discription">
  Updates an exchange account using its ID, including updating API keys for reconnecting the account
</p>


<h2> Parameters request </h2>

<ApiParam name='account_id' type='integer' id="account_id" required>
   Unique 3Commas ID of this exchange account entity
</ApiParam>

<ApiParam name='name' type='string' id="name">
    Name of this exchange account
</ApiParam>

<ApiParam name='api_key' type='string' id="api_key">
   API-key from this exchange account
</ApiParam>

<ApiParam name='secret' type='string' id="secret">
   Secret-key from this exchange account
</ApiParam>

<ApiParam name='customer_id' type='string' id="customer_id">
   <p> Unique customer ID provided by the Bitstamp exchange. </p>
   <p> This parameter is required when <code> type </code> is set to <code> Bitstamp </code></p>
</ApiParam>

<ApiParam name='passphrase' type='string' id="passphrase">
   Secret phrase from this exchange account. This parameter is required when <code>type</code> is set to <code>Coinbase</code>
</ApiParam>

<ApiParam name='address' type='string' id="address">
   Address of wallet. This parameter is required when <code> type </code> is set to <code> ethereumwallet </code>
</ApiParam>

<ApiParam name='include_in_summary' type='boolean' id="include_in_summary">
   Indicates whether this account should be included in the summary statistics (<code>true</code>) or not(<code>false</code>)
</ApiParam>



<h2> Parameters response </h2>

<CollapsibleApiParam name='id' type='integer' id="id">
  ID of the exchange account entity
</CollapsibleApiParam>

<CollapsibleApiParam name='name' type='string' id="name">
  The name for the exchange account defined by the user
</CollapsibleApiParam>

<CollapsibleApiParam name='exchange_name' type='string' id="exchange_name">
  Name of this exchange account
</CollapsibleApiParam>

<CollapsibleApiParam name='market_icon' type='string' id="market_icon">
  Icon of the exchange
</CollapsibleApiParam>

<CollapsibleApiParam name='market_code' type='string' id="market_code">
  3Commas of exchange code entity
</CollapsibleApiParam>

<CollapsibleApiParam name='autobalance_enabled' type='boolean' id="autobalance_enabled">
  Indicates whether auto balance mode is enabled for this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='auto_balance_period' type='integer' id="auto_balance_period">
  The interval, in hours, at which automatic portfolio balancing occurs
</CollapsibleApiParam>

<CollapsibleApiParam name='auto_balance_portfolio_id' type='integer' id="auto_balance_portfolio_id">
  ID of the portfolio for which automatic balancing has been initiated
</CollapsibleApiParam>

<CollapsibleApiParam name='auto_balance_error' type='string or null' id="auto_balance_error">
A description comes up to explain why autobalance failed
</CollapsibleApiParam>

<CollapsibleApiParam name='last_auto_balance' type='string or null' id="last_auto_balance">
ISO 8601 datetime `string` of when this Auto balance was last time
</CollapsibleApiParam>

<CollapsibleApiParam name='hedge_mode_available' type='boolean' id="hedge_mode_available">
Indicates whether hedge mode is available for this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='hedge_mode_enabled' type='boolean' id="hedge_mode_enabled">
Indicates whether hedge mode is enabled for this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='is_locked' type='boolean' id="is_locked">
Indicates this the account is locked (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='lock_reason' type='string or null' id="lock_reason">
The reason for locking this account in case <code>is_locked</code> is <code>true</code>
</CollapsibleApiParam>

<CollapsibleApiParam name='smart_trading_supported' type='boolean' id="smart_trading_supported">
Indicates if the SmartTrade tool is supported for this exchange account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='stats_supported' type='boolean' id="stats_supported">
Indicates whether statistic of profit are supported for this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='trading_supported' type='boolean' id="trading_supported">
Indicates if trading is supported at 3Commas
</CollapsibleApiParam>

<CollapsibleApiParam name='market_buy_supported' type='boolean' id="market_buy_supported">
Indicates whether creating a market buy order is supported on the exchange
</CollapsibleApiParam>

<CollapsibleApiParam name='market_sell_supported' type='boolean' id="market_sell_supported">
Indicates whether creating a market sell order is supported on the exchange
</CollapsibleApiParam>

<CollapsibleApiParam name='conditional_buy_supported' type='boolean' id="conditional_buy_supported">
Indicates whether creating a conditional buy order is supported on the exchange (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='bots_allowed' type='boolean' id="bots_allowed">
Indicates whether DCA Bot is enabled for this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='bots_ttp_allowed' type='boolean' id="bots_ttp_allowed">
Indicates whether the trailing take profit feature is enabled on this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='bots_tsl_allowed' type='boolean' id="bots_tsl_allowed">
Indicates whether the trading stop loss feature is enabled on this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='multi_bots_allowed' type='boolean' id="multi_bots_allowed">
Indicates whether the Multi-Pair feature is supported for this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='fast_convert_available' type='boolean' id="fast_convert_available">
Indicates whether the "Sell All to BTC/USD" feature is enabled for this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='grid_bots_allowed' type='boolean' id="grid_bots_allowed">
Indicates whether Grid Bot is enabled for this account (<code>true</code>) or not(<code>false</code>)
</CollapsibleApiParam>

<CollapsibleApiParam name='api_key' type='string' id="api_key">
API key used for the account
</CollapsibleApiParam>

<CollapsibleApiParam name='api_key_invalid' type='boolean' id="api_key_invalid">
Indicates whether the API key for this account is invalid
</CollapsibleApiParam>

<CollapsibleApiParam name='api_keys_state' type='string' id="api_keys_state">
Indicates the state of the API keys
</CollapsibleApiParam>

<CollapsibleApiParam name='deposit_enabled' type='boolean' id="deposit_enabled">
Indicates whether the Deposit feature is enabled for this account
</CollapsibleApiParam>

<CollapsibleApiParam name='available_include_in_summary' type='boolean' id="available_include_in_summary">
Indicates whether this account is available to be included in the summary
</CollapsibleApiParam>

<CollapsibleApiParam name='include_in_summary' type='boolean' id="include_in_summary">
Indicates whether this account is included in the summary
</CollapsibleApiParam>

<CollapsibleApiParam name='supported_market_types' type='array' id="supported_market_types">
The type of market supported by the connected exchange account
</CollapsibleApiParam>

<CollapsibleApiParam name='customer_id' type='string' id="customer_id">
Unique customer ID provided by the Bitstamp exchange
</CollapsibleApiParam>

<CollapsibleApiParam name='btc_amount' type='string' id="btc_amount">
Amount of Bitcoin in the account
</CollapsibleApiParam>

<CollapsibleApiParam name='usd_amount' type='string' id="usd_amount">
Amount in USD in the account
</CollapsibleApiParam>

<CollapsibleApiParam name='day_profit_btc' type='string' id="day_profit_btc">
Daily profit in BTC
</CollapsibleApiParam>

<CollapsibleApiParam name='day_profit_usd' type='string' id="day_profit_usd">
Daily profit in USD
</CollapsibleApiParam>

<CollapsibleApiParam name='day_profit_btc_percentage' type='number' id="day_profit_btc_percentage">
Daily profit percentage in BTC
</CollapsibleApiParam>

<CollapsibleApiParam name='day_profit_usd_percentage' type='number' id="day_profit_usd_percentage">
Daily profit percentage in USD
</CollapsibleApiParam>

<CollapsibleApiParam name='btc_profit' type='number' id="btc_profit">
Monthly profit in BTC
</CollapsibleApiParam>

<CollapsibleApiParam name='usd_profit' type='number' id="usd_profit">
Monthly profit in USD
</CollapsibleApiParam>

<CollapsibleApiParam name='btc_profit_percentage' type='number' id="btc_profit_percentage">
Monthly profit percentage in BTC 
</CollapsibleApiParam>

<CollapsibleApiParam name='usd_profit_percentage' type='number' id="usd_profit_percentage">
Monthly profit percentage in USD
</CollapsibleApiParam>

<CollapsibleApiParam name='total_btc_profit' type='number' id="total_btc_profit">
Total profit in BTC
</CollapsibleApiParam>

<CollapsibleApiParam name='total_usd_profit' type='number' id="total_usd_profit">
Total profit in USD
</CollapsibleApiParam>

<CollapsibleApiParam name='created_at' type='string' id="created_at">
ISO 8601 datetime `string` of when this Account entity was created
</CollapsibleApiParam>

<CollapsibleApiParam name='updated_at' type='string' id="updated_at">
ISO 8601 datetime <code>string</code> of when this SmartTrade entity was updated
</CollapsibleApiParam>

<h2> Example request </h2>
<div style={{ margin: '10px', padding: '10px' }}>
```
POST /ver1/accounts/update?account_id=12345678&name=New%20name%20exchange
```
</div>

<h3> Example Response and errors </h3>
<div style={{ margin: '10px', padding: '10px' }}>
<Tabs>
  <TabItem value="201" label="201 created" attributes={{className: "green"}}>

```json
{
    "id": 12345678,
    "auto_balance_period": 12,
    "auto_balance_portfolio_id": null,
    "auto_balance_currency_change_limit": null,
    "autobalance_enabled": false,
    "hedge_mode_available": false,
    "hedge_mode_enabled": false,
    "is_locked": false,
    "smart_trading_supported": true,
    "smart_selling_supported": true,
    "available_for_trading": {},
    "stats_supported": true,
    "trading_supported": true,
    "market_buy_supported": true,
    "market_sell_supported": true,
    "conditional_buy_supported": true,
    "bots_allowed": true,
    "bots_ttp_allowed": true,
    "bots_tsl_allowed": true,
    "gordon_bots_available": true,
    "multi_bots_allowed": true,
    "created_at": "2024-08-29T14:16:10.830Z",
    "updated_at": "2024-09-12T21:17:05.627Z",
    "last_auto_balance": null,
    "fast_convert_available": true,
    "grid_bots_allowed": true,
    "api_key_invalid": false,
    "market_icon": "https://3commas.io/img/exchanges/bybit.png",
    "deposit_enabled": false,
    "include_in_summary": true,
    "supported_market_types": [
        "spot"
    ],
    "primary_display_currency_profit_percentage": {
        "currency": "USD",
        "amount": "1.27"
    },
    "primary_display_currency_profit": {
        "currency": "USD",
        "amount": "0.41977392126027012455593960354579615351317609077582"
    },
    "day_profit_primary_display_currency_percentage": {
        "currency": "USD",
        "amount": "2.1862"
    },
    "day_profit_primary_display_currency": {
        "currency": "USD",
        "amount": "0.71497909537100944606510928410135170906899572324142"
    },
    "primary_display_currency_amount": {
        "currency": "USD",
        "amount": "33.41938674385577012455593960354579615351317609077582"
    },
    "total_primary_display_currency_profit": {
        "currency": "USD",
        "amount": 0.4197739212602701
    },
    "available_include_in_summary": true,
    "api_key": "gyTAiGCgRe1hctsA1J",
    "name": "New name exchange",
    "auto_balance_method": null,
    "auto_balance_error": null,
    "customer_id": null,
    "subaccount_name": null,
    "lock_reason": null,
    "btc_amount": "0.000576100372659584112793557824740668987777435277",
    "usd_amount": "33.41938674385577012455593960354579615351317609077582",
    "day_profit_btc": "0.000008477241194296886998580144867983802592279153250469",
    "day_profit_usd": "0.71497909537100944606510928410135170906899572324142",
    "day_profit_btc_percentage": "1.49",
    "day_profit_usd_percentage": "2.19",
    "btc_profit": "0.000032527150138595112793557824740668987777435277",
    "usd_profit": "0.41977392126027012455593960354579615351317609077582",
    "usd_profit_percentage": "1.27",
    "btc_profit_percentage": "5.98",
    "total_btc_profit": "3.2527150138595115e-05",
    "total_usd_profit": "0.41977392126027013",
    "pretty_display_type": "BybitSpot",
    "exchange_name": "Bybit Spot",
    "market_code": "bybit_spot",
    "api_keys_state": "ok"
}
```
  </TabItem>
</Tabs>
</div>
