import Endpoint, { Permission } from '@site/src/components/Endpoint';
import * as StickyLayout from '@site/src/components/StickyLayout';
import CollapsibleApiParam from '@site/src/components/CollapsibleApiParam';
import CollapsibleNestedParams from '@site/src/components/CollapsibleNestedParams';
import ApiParam from '@site/src/components/ApiParam';
import * as ResponseTabs from '@site/src/components/ResponseTabs';

<Endpoint
  url="/v2/smart_trades/:id/reduce_funds_info"
  method="GET"
  permissions={
    <>
      <Permission title="Permission" description="SMART_TRADES_WRITE" />
      <Permission title="Security" description="SIGNED" />
    </>
  }
/>

Shows information about available amount to reduce funds.

:::tip
    The endpoint is available for SmartTrades with status `waiting_targets`. Use the endpoint Get SmartTrade to check a status SmartTrade.
:::

<StickyLayout.Root>
        <StickyLayout.Main>
        ## Path Parameter
        <ApiParam name='id' type='integer' id="id" required>
        Unique 3Commas ID for this SmartTrade entity.
        </ApiParam>
        </StickyLayout.Main>
        <StickyLayout.Sticky>
        ## Example Request
        ```json
        GET /v2/smart_trades/12345678/reduce_funds_info
        ```
        </StickyLayout.Sticky>
</StickyLayout.Root>

<StickyLayout.Root>
    <StickyLayout.Main>
      ## Response Parameter
      <ApiParam name='max_reduce_funds_amount' type='string' id="max_reduce_funds_amount" required>
        The maximum amount available to reduce funds for this SmartTrade.
        </ApiParam>
    </StickyLayout.Main>
    <StickyLayout.Sticky>
        ## Example Responses
        <ResponseTabs.Root>
        <ResponseTabs.TabItem value="200" label="200 OK" default>
        ```json
            {
            "max_reduce_funds_amount": "28.819532219570405727923627685"
            }
            ```
        </ResponseTabs.TabItem>
        <ResponseTabs.TabItem value="400" label="400 Bad Request">
            ```json
            {
                "error": "Wrong param(s)",
                "error_description": "Reduce funds is not allowed in the current status"
            }
            ```       
        </ResponseTabs.TabItem>
        <ResponseTabs.TabItem value="404" label="404 Not Found">
            ```json
            {
                "error": "Not found",
                "error_description": "Smart Trade not found"
            }
            ```
        </ResponseTabs.TabItem>
</ResponseTabs.Root>
</StickyLayout.Sticky>
</StickyLayout.Root>