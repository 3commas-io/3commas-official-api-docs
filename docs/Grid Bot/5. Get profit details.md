import CollapsibleApiParam from '@site/src/components/CollapsibleApiParam';
import CollapsibleNestedParams from '@site/src/components/CollapsibleNestedParams';
import ApiParam from '@site/src/components/ApiParam';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<div className="main-container-endpoint">
    <div className="container-endpoint">
            <div className="container-method-get">
                <span className="endpoint-method">GET</span>
            </div>
              <div className="container-url">
                <span className="endpoint-url">/ver1/grid_bots/:id/profits</span>
           </div>
    </div>
    <div className="container-permission">
        <span className="permission-description"><strong>Permission: </strong>BOTS_READ</span>
        <span className="permission-description"><strong>Security: </strong>SIGNED</span>
    </div>
</div>

<p className="p-method-discription">
  Returns profit details of existing Grid Bot using its ID
</p> 

<h2> Path Parameter </h2>
<ApiParam name='id' type='integer' id="id" required>
   Unique 3Commas ID for this Grid Bot entity
</ApiParam>

<h2> Query Parameters </h2>

<div class="alert alert--info" role="alert" style={{ margin: '30px 20px 20px 20px', padding: '15px' }}>
 If the <strong> from </strong> and <strong> to </strong> values are not set, the response will include all records ordered in descending (`[DESC]`) order by ID parameter.
</div>

<ApiParam name='from' type='string' id="from">
   Filters Grid Bots created after a specific date in ISO 8601 format
</ApiParam>
<ApiParam name='to' type='string' id="to">
   Filters the Grid Bots created before a specific date in ISO 8601 format
</ApiParam>



<h2> Response Parameters </h2>

<CollapsibleApiParam name="grid_line_id" type="string" id="grid_line_id">   
    Unique 3Commas ID for this Grid line entity
</CollapsibleApiParam>

<CollapsibleApiParam name="profit" type="string" id="profit">   
    Profit amount from this Grid line event in the base currency
</CollapsibleApiParam>

<CollapsibleApiParam name="usd_profit" type="string" id="usd_profit">   
    Profit amount in USD from this Grid line event
</CollapsibleApiParam>

<CollapsibleApiParam name="created_at" type="string" id="created_at">   
    ISO 8601 datetime string indicating when the event was recorded
</CollapsibleApiParam>

<CollapsibleApiParam name="grid_lines" type="object" id="grid_lines">
Details about a specific Grid line event
    <CollapsibleNestedParams>
    <ApiParam name='id' type='string' id='id'>
      Unique 3Commas ID for this Grid line entity
    </ApiParam>
    <ApiParam name='price' type='string' id='price'>
        The price value at which the asset was bought or sold when this grid line was executed
    </ApiParam>
    <ApiParam name='side' type='string' id='side'>
      The order side for this Grid line: <code>buy</code> or <code>sell</code>
    </ApiParam>
    <ApiParam name='order_placed' type='boolean' id='order_placed'>
      Indicates whether the order for this Grid line has been placed (<code>true</code>) or not (<code>false</code>).
    </ApiParam>
    </CollapsibleNestedParams>
</CollapsibleApiParam>

<h2> Example Request </h2>
<div style={{ margin: '10px', padding: '10px' }}>
```json
GET /ver1/grid_bots/2338357/profits?from=2024-09-01T04:00:00.000Z&to=2024-10-11T03:59:59.000Z
```
</div>

<h2> Example response and errors</h2>

<div style={{ margin: '20px', padding: '10px' }}>
<Tabs>
  <TabItem value="201" label="201 Created" attributes={{className: "green"}}>

```json
[
    {
        "grid_line_id": 256470631,
        "profit": "0.5387463715614246",
        "usd_profit": "0.5387463715614246",
        "created_at": "2024-10-06T11:45:47.500Z",
        "grid_line": {
            "id": 256470631,
            "price": "0.022954",
            "side": "buy",
            "order_placed": false
        }
    },
    {
        "grid_line_id": 256439950,
        "profit": "0.2721254846234494",
        "usd_profit": "0.2721254846234494",
        "created_at": "2024-10-04T16:23:16.731Z",
        "grid_line": {
            "id": 256439950,
            "price": "0.022503",
            "side": "buy",
            "order_placed": false
        }
    },
    ...
]
```

</TabItem>
</Tabs>
</div>
