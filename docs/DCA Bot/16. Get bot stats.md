import CollapsibleApiParam from '@site/src/components/CollapsibleApiParam';
import CollapsibleNestedParams from '@site/src/components/CollapsibleNestedParams';
import ApiParam from '@site/src/components/ApiParam';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<div className="main-container-endpoint">
    <div className="container-endpoint">
            <div className="container-method-get">
                <span className="endpoint-method">GET</span>
            </div>
              <div className="container-url">
                <span className="endpoint-url"> /ver1/bots/stats </span>
           </div>
    </div>
    <div className="container-permission">
        <span className="permission-description"><strong>Permission: </strong>BOTS_READ</span>
        <span className="permission-description"><strong>Security: </strong>SIGNED</span>
    </div>
</div>

<p class="p-method-discription">  
   Returns profit and locked amount data on deals for all DCA Bots or an existing bot or an existing exchange account using their ID
</p>

<h2> Query Parameters</h2>

<ApiParam name='account_id' type='integer' id="account_id">
  <p> Filters entities linked to the specified 3Commas exchange account. </p>
  <p> Use the [list of connected exchanges and wallets](/docs/Account/5.%20List%20of%20connected%20exchanges%20and%20wallets.md) endpoint to retrieve the value for the <code>account_id</code> parameter. </p>
</ApiParam>

<ApiParam name='bot_id' type='integer' id="bot_id">
  Filters entities linked to the specified DCA Bot
</ApiParam>

<h2> Parameters response </h2>

<CollapsibleApiParam name='overall_stats' type='array' id="overall_stats">
Shows cumulative profit or loss by currency for all trading activity
</CollapsibleApiParam>

<CollapsibleApiParam name='today_stats' type='array' id="today_stats">
Shows today's profit or loss by currency
</CollapsibleApiParam>

<CollapsibleApiParam name='profits_in_usd' type='integer' id="profits_in_usd">
    <p>Contains detailed profit and loss data in USD</p>
    <CollapsibleNestedParams>
      <ApiParam name='overall_usd_profit' type="string" id="overall_usd_profit">
           Cumulative USD profit or loss from all trading activity
      </ApiParam>
       <ApiParam name='today_usd_profit' type="string" id="today_usd_profit">
           USD profit or loss accumulated for the current day
      </ApiParam> 
       <ApiParam name='active_deals_usd_profit' type="string" id="active_deals_usd_profit">
           USD profit or loss from active (unclosed) deals
      </ApiParam> 
   </CollapsibleNestedParams>
</CollapsibleApiParam>


<h2> Example request </h2>
<div style={{ margin: '10px', padding: '10px' }}>
```json
GET /ver1/bots/stats
```
</div>

<h2> Example Response and errors </h2>
<div style={{ margin: '10px', padding: '10px' }}>
<Tabs>
    <TabItem value="200" label="200 OK" attributes={{className: "green"}}>

```json
{
    "overall_stats": {
        "USDT": "-47.47740906"
    },
    "today_stats": {
        "USDT": "10.98885705"
    },
    "profits_in_usd": {
        "overall_usd_profit": -47.48,
        "today_usd_profit": 10.99,
        "active_deals_usd_profit": 1.366505088,
        "funds_locked_in_active_deals": 300.843218676
    }
}
```
  </TabItem>
  </Tabs>
</div>

